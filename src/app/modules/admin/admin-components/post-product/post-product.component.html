<div class="container mt-5">
  <h2>Agregar Platos</h2>

  <div *ngIf="alertVisible" class="alert alert-{{ alertType }}" role="alert">
    {{ alertMessage }}
  </div>

  <form [formGroup]="validateForm" (ngSubmit)="postProduct()">
    <div class="form-group">
      <label for="name">Nombre del Producto</label>
      <input
        id="name"
        type="text"
        formControlName="name"
        class="form-control"
        placeholder="Ingrese el nombre del producto"
      />
      <div *ngIf="validateForm.get('name')?.invalid && validateForm.get('name')?.touched" class="text-danger">
        Nombre es requerido.
      </div>
    </div>

    <div class="form-group mt-3">
      <label for="description">Descripción</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
        placeholder="Ingrese una descripción del producto"
      ></textarea>
      <div *ngIf="validateForm.get('description')?.invalid && validateForm.get('description')?.touched"
           class="text-danger">
        Descripción es requerida.
      </div>
    </div>

    <div class="form-group mt-3">
      <label for="price">Precio</label>
      <input
        id="price"
        type="number"
        formControlName="price"
        class="form-control"
        placeholder="Ingrese el precio del producto"
      />
      <div *ngIf="validateForm.get('price')?.invalid && validateForm.get('price')?.touched" class="text-danger">
        Precio es requerido.
      </div>
    </div>

    <div class="form-group mt-3">
      <label for="img">Seleccionar Imagen</label>
      <input
        type="file"
        id="img"
        (change)="onFileSelected($event)"
        class="form-control"
      />
      <img *ngIf="imagePreview" [src]="imagePreview" class="img-thumbnail mt-3" alt="Vista previa de la imagen"/>
    </div>

    <button type="submit" class="btn btn-primary mt-4" [disabled]="validateForm.invalid">Agregar Producto</button>
    <a routerLink="/admin/dashboard" class="btn btn-secondary mt-4 ms-2">Cancelar</a>
  </form>
</div>
